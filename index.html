<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hong Kong Home Affairs AI Assistant</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="header-left">
                    <div class="logo">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="32" height="32" rx="8" fill="#E60012"/>
                            <path d="M16 8L20 16L16 24L12 16L16 8Z" fill="white"/>
                        </svg>
                    </div>
                    <div class="header-text">
                        <h1>Hong Kong Home Affairs</h1>
                        <p>AI Assistant</p>
                    </div>
                </div>
                <div class="header-right">
                    <div class="secure-badge">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M8 1L3 3V7C3 10.5 5.5 13.5 8 14.5C10.5 13.5 13 10.5 13 7V3L8 1Z" stroke="#4CAF50" stroke-width="2" fill="none"/>
                            <path d="M6 8L7.5 9.5L10 7" stroke="#4CAF50" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <span>Secure Official Source</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Login Screen -->
        <div id="loginScreen" class="login-screen">
            <div class="login-container">
                <div class="login-card">
                    <div class="login-header">
                        <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="48" height="48" rx="12" fill="#E60012"/>
                            <path d="M24 12L30 24L24 36L18 24L24 12Z" fill="white"/>
                        </svg>
                        <h2>Welcome</h2>
                        <p>Sign in to access the Home Affairs AI Assistant</p>
                    </div>
                    <form id="loginForm" class="login-form">
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" required placeholder="your.email@example.com">
                        </div>
                        <div class="form-group">
                            <label for="password">Password</label>
                            <input type="password" id="password" name="password" required placeholder="••••••••">
                        </div>
                        <div class="form-group">
                            <label for="apiUrl">API URL</label>
                            <input type="url" id="apiUrl" name="apiUrl" required placeholder="https://hub.wyniai.com" value="https://hub.wyniai.com">
                        </div>
                        <button type="submit" class="btn-primary">Sign In</button>
                        <div id="loginError" class="error-message" style="display: none;"></div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Main Chat Interface -->
        <main id="chatInterface" class="chat-interface" style="display: none;">
            <!-- Info Banner -->
            <div class="info-banner">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <circle cx="10" cy="10" r="9" stroke="#003366" stroke-width="2" fill="none"/>
                    <path d="M10 6V10M10 14H10.01" stroke="#003366" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <span>This assistant provides information exclusively from <strong>had.gov.hk</strong> and <strong>hyab.gov.hk</strong></span>
            </div>

            <!-- Chat Messages Container -->
            <div id="chatMessages" class="chat-messages">
                <div class="welcome-message">
                    <div class="welcome-icon">
                        <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
                            <circle cx="32" cy="32" r="32" fill="#F5F7FA"/>
                            <path d="M32 16L40 32L32 48L24 32L32 16Z" fill="#003366"/>
                        </svg>
                    </div>
                    <h3>How can I help you today?</h3>
                    <p>Ask me anything about Hong Kong Home Affairs services, youth programs, community facilities, and more.</p>
                    <div class="suggested-queries">
                        <button class="suggestion-chip" data-query="What are the latest youth grants available?">Youth grants</button>
                        <button class="suggestion-chip" data-query="How do I register for community services?">Community services</button>
                        <button class="suggestion-chip" data-query="What facilities are available in my district?">District facilities</button>
                    </div>
                </div>
            </div>

            <!-- Loading Indicator -->
            <div id="loadingIndicator" class="loading-indicator" style="display: none;">
                <div class="loading-content">
                    <div class="pulse-animation"></div>
                    <span>Consulting Home Affairs Database...</span>
                </div>
            </div>

            <!-- Input Area -->
            <div class="input-area">
                <div class="input-container">
                    <textarea 
                        id="messageInput" 
                        placeholder="Ask about Home Affairs services..." 
                        rows="1"
                        maxlength="20000"
                    ></textarea>
                    <button id="sendButton" class="btn-send" disabled>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
        </main>

        <!-- Citation Drawer -->
        <div id="citationDrawer" class="citation-drawer">
            <div class="drawer-header">
                <div class="drawer-title">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M10 2V18M10 2L6 6M10 2L14 6M4 10H16" stroke="#003366" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <span>Source Citations</span>
                </div>
                <button id="closeDrawer" class="btn-close-drawer">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M15 5L5 15M5 5L15 15" stroke="#666" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
            <div id="citationList" class="citation-list">
                <div class="no-citations">
                    <p>Citations will appear here after a query is answered.</p>
                </div>
            </div>
        </div>

        <!-- Logout Button -->
        <button id="logoutButton" class="btn-logout" style="display: none;">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M13 3H17V17H13M9 13L13 10L9 7M13 10H3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            Logout
        </button>
    </div>

    <script src="config.js"></script>
    <script src="app.js"></script>
</body>
</html>

